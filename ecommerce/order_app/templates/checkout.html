<!doctype html>

{% load static %}
{% load checkout_filters %}
<html class="no-js" lang="">
    
<!-- Mirrored from demo.hasthemes.com/fowler-preview/fowler/account.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jun 2024 10:16:24 GMT -->
<head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Fowler - Shoes Store HTML Template</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico in the root directory -->
		<link rel="apple-touch-icon" href="apple-touch-icon.png">
        <link rel="shortcut icon" type="image/x-icon" href="{% static 'assets/img/favicon.ico' %}">
		
		<!-- Google Fonts -->
		<link href='https://fonts.googleapis.com/css?family=Raleway:400,300,500,600,700,800,900' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500,700,900' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Lato:400,700,900,300' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
		<!-- all css here -->
		<!-- bootstrap v3.3.6 css -->
        <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
		<!-- animate css -->
        <link rel="stylesheet" href="{% static 'assets/css/animate.css' %}">
        <!-- nivo slider CSS -->
		<link rel="stylesheet" href="{% static 'assets/lib/css/nivo-slider.css' %}" type="text/css" />
		<link rel="stylesheet" href="{% static 'assets/lib/css/preview.css' %}" type="text/css" media="screen" />
		<!-- jquery-ui.min css -->
        <link rel="stylesheet" href="{% static 'assets/css/jquery-ui.min.css' %}">
		<!-- meanmenu css -->
        <link rel="stylesheet" href="{% static 'assets/css/meanmenu.min.css' %}">
		<!-- owl.carousel css -->
        <link rel="stylesheet" href="{% static 'assets/css/owl.carousel.css' %}">
		<!-- font-awesome css -->
        <link rel="stylesheet" href="{% static 'assets/css/font-awesome.min.css' %}">
		<!-- style css -->
		<link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
		<!-- responsive css -->
        <link rel="stylesheet" href="{% static 'assets/css/responsive.css' %}">

		<link rel="stylesheet" href="{% static 'assets/css/checkout.css' %}">

		<link rel="stylesheet" href="{% static 'assets/css/top-nav.css' %}">




		<!-- modernizr css -->
        <script src="{% static 'assets/js/vendor/modernizr-2.8.3.min.js' %}"></script>

		<style>

			.bannerhead-area {

				background: rgba(0, 0, 0, 0) url('{% static 'assets/img/header-banner.jpg' %}') no-repeat scroll center center;
				position: relative;

			  }

			.section-titel {
			display: block;
			overflow: hidden;
			padding-bottom: 30px;
			position: relative;
			}

		.section-titel::after {
			background: rgba(0, 0, 0, 0) url('{% static 'assets/img/sec-titel.png' %}') no-repeat scroll 0 0;
			content: "";
			height: 100%;
			left: 39%;
			position: absolute;
			top: 30px;
			width: 100%;
			}
		.section-titel > h3 {
			color: #666666;
			font-family: "Montserrat",sans-serif;
			font-size: 20px;
			font-weight: 400;
			text-transform: uppercase;
			}
		.hot-deals-area {
			background-attachment: scroll;
			background-image: url("{% static 'assets/img/home-1/hot-deals.jpg' %}");
			background-position: center center;
			background-size: cover;
			}



		/* Coupon Styles */
		.available-coupons {
			margin-bottom: 20px;
		}

		.coupon-list {
			display: flex;
			flex-direction: column;
			gap: 15px;
		}

		.coupon-item {
			border: 1px solid #e0e0e0;
			border-radius: 8px;
			padding: 15px;
			display: flex;
			align-items: flex-start;
		}

		.coupon-item input[type="radio"] {
			margin-right: 15px;
			margin-top: 5px;
		}

		.coupon-item label {
			flex-grow: 1;
			cursor: pointer;
		}

		.coupon-item h4 {
			margin: 0 0 5px;
			font-size: 16px;
		}

		.coupon-item p {
			margin: 0 0 5px;
			font-size: 14px;
			color: #666;
		}

		.coupon-code {
			font-size: 14px;
			color: #007bff;
			font-weight: bold;
		}

		.coupon-actions {
			display: flex;
			justify-content: space-between;
			margin-top: 20px;
		}

		.apply-coupon-btn,
		.continue-btn {
			padding: 10px 20px;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			transition: background-color 0.3s;
		}

		.apply-coupon-btn {
			background-color: #ffffff;
			color: #333333;
			border: 1px solid #cccccc;
		}

		.apply-coupon-btn:hover {
			background-color: #FF7575;
			color: #ffffff;
			border-color: #FF7575;
		}

		{% comment %} .continue-btn {
			background-color: #4CAF50;
			color: white;
		}

		.continue-btn:hover {
			background-color: #45a049;
		} {% endcomment %}

		/* Payment Method Styles */
		.payment-methods {
			margin-bottom: 20px;
		}

		.payment-options {
			display: flex;
			flex-direction: column;
			gap: 15px;
		}

		.payment-option {
			display: flex;
			align-items: center;
			padding: 15px;
			border: 1px solid #e0e0e0;
			border-radius: 8px;
			cursor: pointer;
		}

		.payment-option input[type="radio"] {
			margin-right: 15px;
		}

		.payment-option label {
			font-size: 16px;
			cursor: pointer;
		}

		.error-message {
			color: #ff0000;
			margin-top: 10px;
			display: none;
		}


		
		{% comment%} checkout area styling {% endcomment %}


		.checkout-right-area {
			background-color: #f8f9fa;
			border: 1px solid #e9ecef;
			border-radius: 8px;
			padding: 20px;
			box-shadow: 0 2px 4px rgba(0,0,0,0.1);
			font-family: Arial, sans-serif;
		}
		
		.checkout-title {
			font-size: 18px;
			font-weight: bold;
			color: #495057;
			margin-bottom: 15px;
			border-bottom: 2px solid #ced4da;
			padding-bottom: 10px;
		}
		
		.checkout-row {
			display: flex;
			justify-content: space-between;
			margin-bottom: 10px;
			font-size: 14px;
			color: #6c757d;
		}
		
		.checkout-row.grand-total {
			font-weight: bold;
			font-size: 16px;
			color: #495057;
			border-top: 1px solid #ced4da;
			padding-top: 10px;
			margin-top: 10px;
		}
		
		.checkout-label {
			font-weight: 500;
		}
		
		.currency {
			margin-right: 2px;
		}



		.order-summary-table {
			width: 100%;
			border-collapse: collapse;
		}
		.order-summary-table th, .order-summary-table td {
			padding: 10px;
			border: 1px solid #e0e0e0;
		}
		.offer-tag {
			background-color: #e53935;
			color: white;
			padding: 2px 5px;
			border-radius: 3px;
			font-size: 0.8em;
			margin-left: 5px;
		}
		#checkout-review-submit {
			margin-top: 20px;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		.cart-btn-3 {
			display: flex;
			justify-content: space-between;
			align-items: center;
			width: 100%;
		}
		#place-order-btn {
			background-color: #4CAF50;
			color: white;
			padding: 10px 20px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
		}
		#place-order-btn:hover {
			background-color: #45a049;
		}





		#checkout-review-submit {
			margin-top: 20px;
		}
		
		.cart-btn-3 {
			display: flex;
			flex-direction: column;
			align-items: flex-start;
		}
		
		.left {
			margin-bottom: 15px;
		}
		
		.button-container {
			display: flex;
			flex-wrap: wrap;
			gap: 10px;
			width: 100%;
		}
		
		.button {
			padding: 10px 20px;
			font-size: 16px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			transition: background-color 0.3s ease;
		}
		
		.btn-checkout {
			background-color: #4CAF50;
			color: white;
		}
		
		.btn-checkout:hover {
			background-color: #45a049;
		}
		
		.btn-razorpay {
			background-color: #528FF0;
			color: white;
		}
		
		.btn-razorpay:hover {
			background-color: #3a7ce0;
		}
		
		@media (max-width: 768px) {
			.button-container {
				flex-direction: column;
			}
		
			.button {
				width: 100%;
			}
		}

		</style>
    </head>
    <body class="other-page">
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- HEADER TOP AREA START -->
		<section class="header-top-area">
			<div class="container">
				<div class="header-content">
					<div class="user-info">
						{% if user.is_authenticated %}
							<i class="fa fa-user"></i>
							<span class="welcome-text">Welcome, {{ user.first_name }}</span>
							<a href="{% url 'logout' %}" class="auth-link">LOGOUT</a>
						{% else %}
							<a href="{% url 'login' %}" class="auth-link">LOG IN</a>
						{% endif %}
					</div>
				</div>
			</div>
		</section>
        <!-- HEADER TOP AREA END -->
		<!-- MENU AREA START -->
		<div class="menu-area">
			<div class="container">
				<div class="row">
					<div class="col-md-2 col-sm-2">
						<div class="logo-area">
							<a href="{% url 'home' %}"><img src="{% static 'assets/img/home-1/logo_dg_footer.png' %}" width="110" height="50" alt="" /></a>
						</div>
					</div>
					<div class="col-md-8 col-sm-8">
						<div class="main-menu">
							<ul class="list-inline">
							  <li class="expand active"><a href="{% url 'home' %}">HOME</a>
							  </li>
							  <li><a href="{% url 'shop_list' %}">SHOP</a>
								<!-- Mega Menu Four Column -->
								<div class="mega-menu">
									{% for category in categories%}
									<span>
										<a href="{% url 'shop_list' %}?category={{category.category_name}}" class="mega-title">{{ category.category_name }}</a>
										<a href="#"><img alt="{{category.category_name}}" src="{{category.image.url}}"/></a>
										{% for subcategory in category.subcategories.all %}
										{% if subcategory.is_listed %}
										<a href="{% url 'shop_list' %}?category={{category.category_name}}&subcategory={{subcategory.subcategory_name}}">{{ subcategory.subcategory_name}}</a>
										{% endif %}
										{% endfor %}
									</span>
									{% endfor %}
								</div>
							  </li>
							  <li class="expand"><a href="{% url 'user_account' %}">ACCOUNT</a>
							  </li>
							  <li><a href="{% url 'contact_us' %}">CONTACT</a></li>
							</ul>
						</div>
					</div>
					<!-- MOBILE-MENU-AREA START --> 
					<div class="mobile-menu-area">
						<div class="container">
							<div class="row">
								<div class="col-md-12">
								<div class="mobile-area">
									<div class="mobile-menu">
										<nav id="mobile-nav">
											<ul>
												<li><a href="{% url 'home' %}">Home </a></li>
												<li><a href="{% url 'shop_list' %}">SHOP</a>
												<!-- Mega Menu Four Column -->
												<div class="mega-menu">
													{% for category in categories%}
													<span>
														<a href="{% url 'shop_list' %}?category={{category.category_name}}" class="mega-title">{{ category.category_name }}</a>
														<a href="#"><img alt="{{category.category_name}}" src="{{category.image.url}}"/></a>
														{% for subcategory in category.subcategories.all %}
														{% if subcategory.is_listed %}
														<a href="{% url 'shop_list' %}?category={{category.category_name}}&subcategory={{subcategory.subcategory_name}}">{{ subcategory.subcategory_name}}</a>
														{% endif %}
														{% endfor %}
													</span>
													{% endfor %}
												</div>
												</li>
												<li><a href="{% url 'user_account'%}"> Account </a>
												</li>
												<li><a href="{% url 'contact_us' %}"> Contact Us </a></li>
											</ul>
										</nav>
									</div>	
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- MOBILE-MENU-AREA END  -->
					<div class="col-md-2 col-sm-2">
						<div class="menu-right-area">
							<ul>
								<li>
									<a href="#" class="cart-toggler search-icon">
										<i class="fa fa-search"></i>
									</a>
									<div class="header-bottom-search">
										<form method="POST" action="#" class="search-box">
											<div>
												<input type="text" autocomplete="off" placeholder="Search" value="">
											</div>
										</form>						            
									</div>
								</li>
								<li>
									<a href="{% url 'cart_detail' %}" class="cart-toggler mini-cart-icon">
										<i class="fa fa-shopping-cart"></i>
										{% if cart_item_count > 0 %}
										<span>{{ cart_item_count }}</span>
										{% endif %}
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- MENU AREA END -->
		<!-- BANNER AREA STRAT -->
		<section class="bannerhead-area">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<div class="banner-heading">
							<h2>Checkout</h2>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- BANNER AREA END -->
		<!-- CHECKOUT AREA START -->
		<section class="checkout-area">
			<div class="container">
				<div class="row">
					<div class="col-md-9 res-mr-btm">
						<div class="checkout-left-area">
							<div class="panel-group" id="accordion">
								<form method="post" action="{% url 'checkout' %}" id="checkout-form">
								{% csrf_token %}
								<!--Delivery address--> 
								<div class="panel panel-default"> 
									<div class="panel-heading"> 
										<h4 class="panel-title"> 
											<a data-toggle="collapse" data-parent="#accordion" href="#collapse1"> 
												<span>1</span>Select Delivery Address
											</a> 
										</h4> 
									</div>  
									<div id="collapse1" class="panel-collapse collapse in"> 
										<div class="panel-body"> 
											<div class="delivery-addresses">
												<h3></h3>
												<p>Choose from your saved addresses or add a new one.</p>
												
												<!-- Address List -->
												<div id="address-list" style="display: flex; flex-wrap: wrap; gap: 20px;">
													{% for address in user_addresses %}
														<div class="address-item" id="address-item-{{ address.id }}" style="flex: 1 0 300px; max-width: 400px; border: 1px solid #ddd; padding: 15px; border-radius: 8px; position: relative;">
															<input type="radio" name="selected_address" id="address_{{ address.id }}" value="{{ address.id }}" style="position: absolute; top: 10px; right: 10px;">
															<label for="address_{{ address.id }}" style="cursor: pointer; display: block;">
																<h3>{{ address.address_title }}</h3>
																<p>{{ address.name }}</p>
																<p>{{ address.address_line }}, {{ address.city }}, {{ address.state }} - {{ address.pin }}</p>
																<p>Phone: {{ address.phone_number }}</p>
																<p>Post Office: {{ address.post_office }}</p>
																{% if address.landmark %}
																	<p>Landmark: {{ address.landmark }}</p>
																{% endif %}
															</label>
														</div>
													{% empty %}
														<p>You have no saved addresses. Please add a new address.</p>
													{% endfor %}
												</div>

												<div class="error-message" id="address-error">Please select an address to continue.</div>
												<!-- Add New Address Button -->
												<div class="buttons-set">
													<button class="button" type="button" id="add-address-btn"><a href="{% url 'user_account' %}?next={% url 'checkout' %}">Add Address</a></button>
													<button class="button continue-btn" type="button" data-next="collapse2"><span>Continue</span></button>
												</div>

											</div>
										</div> 
									</div> 
								</div> 
								<!--Delivery address end-->

								<!-- Apply coupons -->
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#accordion" href="#collapse2">
												<span>2</span>Available Coupons
											</a>
										</h4>
									</div>
									<div id="collapse2" class="panel-collapse collapse">
										<div class="panel-body">
											<div class="available-coupons">
												<h3></h3>
												<div class="coupon-list">
													{% for coupon in active_coupons %}
														<div class="coupon-item">
															<input type="radio" id="coupon_{{ coupon.id }}" name="coupon_code" value="{{ coupon.code }}">
															<label for="coupon_{{ coupon.id }}">
																<h4>{{ coupon.title }}</h4>
																<p>{{ coupon.description }}</p>
																<span class="coupon-code">Use Code {{ coupon.code }}</span>
															</label>
														</div>
													{% empty %}
														<p>No coupons available at the moment.</p>
													{% endfor %}
												</div>
												<div class="coupon-actions buttons-set">
													<input type="text" id="coupon-input" placeholder="Enter coupon code">
													<button type="button" class="button apply-coupon-btn" onclick="applyCoupon()">Apply Coupon</button>
													<button type="button" class="button remove-coupon-btn" onclick="removeCoupon()" style="display:none;">Remove Coupon</button>
												</div>
											</div>
											<div id="coupon-message"></div>
											<div id="discount-info" style="display:none;">
												<p>Discount: <span class="currency">₹</span><span id="discount-amount">0</span></p>
												<p>Total after discount: <span class="currency">₹</span><span id="discounted-total">0</span></p>
											</div>
											<div class="buttons-set">
												<button type="button" class="button continue-btn" data-next="collapse4"><span>Continue</span></button>
											</div>
										</div>
									</div>
								</div>
								<!-- Apply coupons End -->

								<!-- Payment method start -->
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#accordion" href="#collapse4">
												<span>3</span>Payment Options
											</a>
										</h4>
									</div>
									<div id="collapse4" class="panel-collapse collapse">
										<div class="panel-body">
											<div class="payment-methods">
												<h3></h3>
												<div class="payment-options">
													{% for value,label in payment_method_choices %}
													<div class="payment-option">
														<input type="radio" id="p_method_{{value}}" name="payment_method" value="{{value}}" class="radio"
														{% if value == 'Wallet' and user_wallet.balance < cart_total|sub:discount %}disabled{% endif %}>															
														<label for="p_method_{{value}}">
															{{ label }}
															{% if value == 'Wallet' %}
																{% if user_wallet.balance >= cart_total|sub:discount %}
																<span style="font-size: 0.85em; color: #4CAF50;">(Balance: ₹ {{ user_wallet.balance }})</span>
																{% else %}
																<span style="font-size: 0.85em; color: #f44336;">(Insufficient Balance)</span>
																{% endif %}
															{% endif %}
														</label>
													</div>
													{% endfor %}
												</div>
												<div class="error-message" id="payment-error">Please select a payment method to continue.</div>
												<div class="buttons-set">
													<button type="button" class="button continue-btn" data-next="collapse5"><span>Continue</span></button>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!-- Payment method end -->


								<!--Order summary start-->
								<div class="panel panel-default">
									<div class="panel-heading">
										<h4 class="panel-title">
											<a data-toggle="collapse" data-parent="#accordion" href="#collapse5">
												<span>4</span>Order Summary
											</a>
										</h4>
									</div>
									<div id="collapse5" class="panel-collapse collapse">
										<div class="panel-body">
											<div class="order-review" id="checkout-review">
												<div class="table-responsive" id="checkout-review-table-wrapper">
													<table class="order-summary-table" id="checkout-review-table">
														<thead>
															<tr>
																<th class="product-name">Product Name</th>
																<th class="price-column">Price</th>
																<th class="qty-column">Qty</th>
																<th class="subtotal-column">Subtotal</th>
															</tr>
														</thead>
														<tbody>
															{% for item in cart_items %}
															<tr>
																<td class="product-name">
																	{{item.product.product_name}} (Color:{{item.product_color.color_name}} Size:{{item.product_size.size}})
																	{% if item.product.is_offer_applied %}
																	<span class="offer-tag">Offer</span>
																	{% endif %}
																</td>
																<td class="price-column">
																	<div class="price-wrapper">
																		<span class="currency">₹</span>
																		<span class="price">
																			{% if item.product.is_offer_applied %}
																			{{item.product.discounted_price}}
																			{% else %}
																			{{item.product.price}}
																			{% endif %}
																		</span>
																	</div>
																</td>
																<td class="qty-column">{{item.quantity}}</td>
																<td class="subtotal-column">
																	<div class="price-wrapper">
																		<span class="currency">₹</span>
																		<span class="price">{{item.get_total_price}}</span>
																	</div>
																</td>
															</tr>
															{% endfor %}
														</tbody>
														<tfoot>
															<tr>
																<td colspan="3">Subtotal</td>
																<td>
																	<div class="price-wrapper">
																		<span class="currency">₹</span>
																		<span class="price" id="cart-subtotal">{{ cart_total }}</span>
																	</div>
																</td>
															</tr>
															<tr>
																<td colspan="3">Coupon Discount</td>
																<td>
																	<div class="price-wrapper">
																		<span class="currency">₹</span>
																		<span class="price" id="coupon-discount">{{ discount|default:"0" }}</span>
																	</div>
																</td>
															</tr>
															<tr>
																<td colspan="3"><strong>Grand Total</strong></td>
																<td>
																	<div class="price-wrapper">
																		<span class="currency">₹</span>
																		<span class="price"><strong id="cart-grand-total">{{ cart_total|sub:discount }}</strong></span>
																	</div>
																</td>
															</tr>
														</tfoot>
													</table>
												</div>
												<div id="checkout-review-submit">
													<div class="cart-btn-3" id="review-buttons-container">
														<p class="left">Forgot an Item? <a href="{% url 'cart_detail' %}">Edit Your Cart</a></p>
														<div class="button-container">
															<button type="submit" title="Place Order" class="button btn-checkout" id="place-order-btn">
																<span>Place Order</span>
															</button>
															<button type="button" title="Pay with Razorpay" class="button btn-razorpay" id="razorpay-pay-btn">
																<span>Pay with Razorpay</span>
															</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								
								<!--Order summary end-->
								</form>

							</div> 
						</div>
						{% if messages %}
						<div class="messages mt-5">
						{% for message in messages %}
						<div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}">
							{{ message }}
						</div>
						{% endfor %}
						</div>
						{% endif %}
					</div>
					<div class="col-md-3">
						<div class="checkout-right-area">
							<h5 class="checkout-title">Total Amount</h5>
							<div class="checkout-row">
								<span class="checkout-label">Subtotal:</span>
								<span class="checkout-value"><span class="currency">₹</span><span id="cart-subtotal">{{cart_total}}</span></span>
							</div>
							<div class="checkout-row">
								<span class="checkout-label">Discount:</span>
								<span class="checkout-value"><span class="currency">₹</span><span id="coupon-discount">{{ discount|default:"0" }}</span></span>
							</div>
							<div class="checkout-row grand-total">
								<span class="checkout-label">Grand Total:</span>
								<span class="checkout-value"><span class="currency">₹</span><span id="cart-grand-total">{{ cart_total|sub:discount }}</span></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- CHECKOUT AREA END -->
		<!-- OUR BRAND AREA START -->
		<section class="our-brand-area">
			<div class="container">
				<div class="text-center">
					<div class="section-titel">
						<h3>OUR BRANDS</h3>
					</div>
				</div>
				<div class="row blog-area">
					<div id="ourbrand-owl">
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-1.jpg' %}" alt="" /></div>
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-2.jpg' %}" alt="" /></div>
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-3.jpg' %}" alt="" /></div>
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-4.jpg' %}" alt="" /></div>
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-5.jpg' %}" alt="" /></div>
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-3.jpg' %}" alt="" /></div>
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-1.jpg' %}" alt="" /></div>
						<div class="col-md-12"><img src="{% static 'assets/img/other-pg/brand-logo-2.jpg' %}" alt="" /></div>
					</div>
				</div>
			</div>
		</section>
		<!-- OUR BRAND AREA END -->
		<!-- Footer Top Area Start -->
		<div class="footer-top">
			<div class="container">
				<div class="row">
					<div class="col-md-4 col-sm-4">
						<div class="social-icon">
							<ul>
								<li><a href="#"><i class="fa fa-facebook"></i></a></li>
								<li><a href="#"><i class="fa fa-rss"></i></a></li>
								<li><a href="#"><i class="fa fa-instagram"></i></a></li>
								<li><a href="#"><i class="fa fa-google-plus"></i></a></li>
								<li><a href="#"><i class="fa fa-youtube"></i></a></li>
							</ul>
						</div>
					</div>
					<div class="col-md-8 col-sm-8">
						<div class="foteer-news">
							<h3>NEWSLETTER</h3>
							<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed</p>
						</div>
						<div class="search-input">
							<form action="#">
								<input type="text" placeholder="Enter your keyword...">
								<button class="search-button" type="submit" value="Submit">Subcribe</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Footer Top Area End -->
		<!-- Footer Middle Area Start -->
		<section class="footer-middle">
			<div class="container">
				<div class="row">
					<div class="col-md-3 col-sm-4 col-xs-12 xs-res-mrbtm">
						<div class="footer-menu">
							<h4>MY ACCOUNT</h4>
							<ul>
								<li><a href="#">Login</a></li>
								<li><a href="#">My Account</a></li>
								<li><a href="#">My Cart</a></li>
								<li><a href="#">Wishlist</a></li>
								<li><a href="#">Checkout</a></li>
								<li><a href="#">Userinfor</a></li>
							</ul>
						</div>
					</div>
					<div class="col-md-3 hidden-sm hidden-xs">
						<div class="footer-menu">
							<h4>INFORMATION</h4>
							<ul>
								<li><a href="#">Sitemap</a></li>
								<li><a href="#">Privacy Policy</a></li>
								<li><a href="#">Your Account</a></li>
								<li><a href="#">Advanced Search</a></li>
								<li><a href="#">Affiliates</a></li>
								<li><a href="#">Group Sales</a></li>
							</ul>
						</div>
					</div>
					<div class="col-md-3 col-sm-4 col-xs-12 xs-res-mrbtm">
						<div class="footer-menu">
							<h4>CONTACT US</h4>
							<ul>
								<li><a href="#">Product Recall</a></li>
								<li><a href="#">Gift Vouchers</a></li>
								<li><a href="#">Returns and Exchanges</a></li>
								<li><a href="#">Shipping Options</a></li>
								<li><a href="#">Blogs</a></li>
								<li><a href="#">Help & Faqs</a></li>
							</ul>
						</div>
					</div>
					<div class="col-md-3 col-sm-4 col-xs-12">
						<div class="address-area">
							<a href="{% url 'home' %}"><img src="{% static 'assets/img/home-1/logo_dg_footer.png' %}" width="280" height="200" alt="" /></a>
							<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard.</p>
							<div class="contact-details">
								<ul>
									<li><i class="fa fa-phone"></i>+91 7428730894</li>
									<li><i class="fa fa-envelope-o"></i> dgshoes930@gmail.com</li>
									<li><i class="fa fa-map-marker"></i> Kinfra, Malappuram,Kerala,India						</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- Footer Middle Area End -->
		<!-- Footer Bottom Area Start -->
		<div class="footer-bottom-area">
			<div class="container">
				<div class="row ">
					<div class="col-md-6 col-sm-6 col-xs-12">
						<p>Copyright &copy;  <a href="http://www.devitems.com/"> Devitems. </a> All Rights Reserved.</p>
					</div>
					<div class="col-md-6 col-sm-6 col-xs-12">
						<img src="{% static 'assets/img/other-pg/payment.png' %}" alt="" />
					</div>
				</div>
			</div>
		</div>
		<!-- Footer Bottom Area End -->
		
		<!-- all js here -->
		<!-- jquery latest version -->
        <script src="{% static 'assets/js/vendor/jquery-1.12.0.min.js' %}"></script>
		<!-- bootstrap js -->
        <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
		<!-- owl.carousel js -->
        <script src="{% static 'assets/js/owl.carousel.min.js' %}"></script>
		<!-- meanmenu js -->
        <script src="{% static 'assets/js/jquery.meanmenu.js' %}"></script>
        <!-- Nivo slider js  --> 		
		<script src="{% static  'assets/lib/js/jquery.nivo.slider.js' %}" type="text/javascript"></script>
		<script src="{% static 'assets/lib/home.js' %}" type="text/javascript"></script>
		<!-- count down js  -->
		<script src="{% static 'assets/js/jquery.countdown.js' %}"></script>
		<!-- jquery-ui js -->
        <script src="{% static 'assets/js/jquery-ui.min.js' %}"></script>
		<!-- wow js -->
        <script src="{% static 'assets/js/wow.min.js' %}"></script>
		<!-- plugins js -->
        <script src="{% static 'assets/js/plugins.js' %}"></script>
		<!-- main js -->
        <script src="{% static 'assets/js/main.js' %}"></script>

		<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

		
		
		

		<script>
			document.addEventListener('DOMContentLoaded', function() {
				const continueButton = document.getElementById('continue-to-next-step');
				const addNewAddressButton = document.getElementById('add-new-address-btn');
			
				continueButton.addEventListener('click', function() {
					const selectedAddress = document.querySelector('input[name="selected_address"]:checked');
					if (selectedAddress) {
						// Here you can add logic to proceed to the next step
						console.log('Selected address ID:', selectedAddress.value);
						// For example: window.location.href = '/next-step?address_id=' + selectedAddress.value;
					} else {
						alert('Please select an address before continuing.');
					}
				});
			
				addNewAddressButton.addEventListener('click', function() {
					// Here you can add logic to show a form for adding a new address
					console.log('Add new address clicked');
					// For example: window.location.href = '/add-new-address';
				});
			});
			</script>

			<!--Script for accordions -->
			<script>
				document.addEventListener('DOMContentLoaded', function() {
					const accordionPanels = document.querySelectorAll('.panel-collapse');
					const continueBtns = document.querySelectorAll('.continue-btn');
					const addAddressBtn = document.getElementById('add-address-btn');
					const placeOrderBtn = document.getElementById('place-order-btn');
					const checkoutForm = document.getElementById('checkout-form');
				
					continueBtns.forEach(btn => {
						btn.addEventListener('click', function(e) {
							e.preventDefault();
							const currentPanel = this.closest('.panel-collapse');
							const nextPanelId = this.getAttribute('data-next');
							const nextPanel = document.getElementById(nextPanelId);
				
							if (validateSection(currentPanel)) {
								// Close all panels
								accordionPanels.forEach(panel => {
									$(panel).collapse('hide');
								});
				
								// Open the next panel
								$(nextPanel).collapse('show');
							}
						});
					});
				
					addAddressBtn.addEventListener('click', function() {
						// Logic to show form for adding a new address
						console.log('Add new address clicked');
						// Example: window.location.href = '/add-new-address';
					});
				
					placeOrderBtn.addEventListener('click', function(e) {
						e.preventDefault();
						if (validateAllSections()) {
							submitOrderAjax();
						}
					});



					function submitOrderAjax() {
						const form = document.getElementById('checkout-form');
						const formData = new FormData(form);
			
						fetch('{% url "checkout" %}', {
							method: 'POST',
							body: formData,
							headers: {
								'X-CSRFToken': '{{ csrf_token }}'
							}
						})
						.then(response => response.json())
						.then(data => {
							if (data.success) {
								// Order successful
								Swal.fire({
									title: 'Success!',
									text: data.message,
									icon: 'success',
									confirmButtonText: 'OK'
								}).then((result) => {
									if (result.isConfirmed) {
										window.location.href = data.redirect;
									}
								});
							} else {
								// Order failed
								Swal.fire({
									title: 'Error!',
									text: data.message,
									icon: 'error',
									confirmButtonText: 'OK'
								}).then((result) => {
									if (result.isConfirmed) {
										window.location.href = data.redirect || '/home/';
									}
								});
							}
						})
						.catch(error => {
							console.error('Error:', error);
							Swal.fire({
								title: 'Error!',
								text: 'An unexpected error occurred. Please try again.',
								icon: 'error',
								confirmButtonText: 'OK'
							}).then((result) => {
								if (result.isConfirmed) {
									window.location.href = '/home/';  // Redirect to home page on unexpected error
								}
							});
						});
					}
				
					function validateSection(panel) {
						const panelId = panel.id;
						let isValid = true;
				
						switch (panelId) {
							case 'collapse1':
								isValid = validateAddress();
								break;
							case 'collapse2':
								// No validation needed for offers
								break;
							case 'collapse4':
								isValid = validatePayment();
								break;
						}
				
						return isValid;
					}
				
					function validateAllSections() {
						return validateAddress() && validatePayment();
					}
				
					function validateAddress() {
						const selectedAddress = document.querySelector('input[name="selected_address"]:checked');
						const errorMsg = document.getElementById('address-error');
				
						if (!selectedAddress) {
							errorMsg.style.display = 'block';
							return false;
						}
						errorMsg.style.display = 'none';
						return true;
					}
				
					function validatePayment() {
						const selectedPayment = document.querySelector('input[name="payment_method"]:checked');
						const errorMsg = document.getElementById('payment-error');
				
						if (!selectedPayment) {
							errorMsg.style.display = 'block';
							return false;
						}
						errorMsg.style.display = 'none';
						return true;
					}
				});
			</script>

			
			<!--Apply and Remove coupon-->
			<script>
				function applyCoupon() {
					const couponCode = document.getElementById('coupon-input').value;
					
					if (!couponCode) {
						alert('Please enter a coupon code.');
						return;
					}
					
					fetch('/apply_coupon/', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/x-www-form-urlencoded',
							'X-CSRFToken': getCookie('csrftoken')
						},
						body: `coupon_code=${encodeURIComponent(couponCode)}`
					})
					.then(response => response.json())
					.then(data => {
						const messageElement = document.getElementById('coupon-message');
						if (data.status === 'success') {
							messageElement.textContent = data.message;
							messageElement.style.color = 'green';
							updatePriceInfo(data.cart_total, data.discount, data.new_total);
							document.querySelector('.remove-coupon-btn').style.display = 'inline-block';
							document.querySelector('.apply-coupon-btn').style.display = 'none';
						} else {
							messageElement.textContent = data.message;
							messageElement.style.color = 'red';
						}
					})
					.catch(error => {
						console.error('Error:', error);
						alert('An error occurred while applying the coupon.');
					});
				}
				
				function removeCoupon() {
					fetch('/remove_coupon/', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/x-www-form-urlencoded',
							'X-CSRFToken': getCookie('csrftoken')
						}
					})
					.then(response => response.json())
					.then(data => {
						if (data.status === 'success') {
							document.getElementById('coupon-message').textContent = data.message;
							document.getElementById('coupon-message').style.color = 'green';
							updatePriceInfo(data.cart_total, 0, data.cart_total);
							document.getElementById('coupon-input').value = '';
							document.querySelector('.remove-coupon-btn').style.display = 'none';
							document.querySelector('.apply-coupon-btn').style.display = 'inline-block';
							document.querySelectorAll('input[name="coupon_code"]').forEach(radio => {
								radio.checked = false;
							});
						} else {
							document.getElementById('coupon-message').textContent = data.message;
							document.getElementById('coupon-message').style.color = 'red';
						}
					})
					.catch(error => {
						console.error('Error:', error);
						alert('An error occurred while removing the coupon.');
					});
				}
				
				function updatePriceInfo(cartTotal, discount, newTotal) {
					document.getElementById('discount-amount').textContent = discount;
					document.getElementById('discounted-total').textContent = newTotal;
					document.getElementById('discount-info').style.display = 'block';
					// Update other price elements if needed
				}
				
				function getCookie(name) {
					let cookieValue = null;
					if (document.cookie && document.cookie !== '') {
						const cookies = document.cookie.split(';');
						for (let i = 0; i < cookies.length; i++) {
							const cookie = cookies[i].trim();
							if (cookie.substring(0, name.length + 1) === (name + '=')) {
								cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
								break;
							}
						}
					}
					return cookieValue;
				}
				
				// Add event listeners for radio buttons
				document.addEventListener('DOMContentLoaded', function() {
					document.querySelectorAll('input[name="coupon_code"]').forEach(radio => {
						radio.addEventListener('change', function() {
							if (this.checked) {
								document.getElementById('coupon-input').value = this.value;
							}
						});
					});
				});
			</script>


			<script>

				function updatePriceInfo(cartTotal, discount, newTotal) {
					// Update main order summary
					document.querySelectorAll('#cart-subtotal').forEach(el => el.textContent = cartTotal);
					document.querySelectorAll('#coupon-discount').forEach(el => el.textContent = discount);
					document.querySelectorAll('#cart-grand-total').forEach(el => el.textContent = newTotal);
					
					// Show or hide the coupon discount row in the main summary based on whether a discount is applied
					const couponRow = document.querySelector('#collapse5 tr:nth-child(2)');
					if (couponRow) {
						couponRow.style.display = parseFloat(discount) > 0 ? 'table-row' : 'none';
					}
					
					// Update side nav order summary
					const sideNavDiscountRow = document.querySelector('.checkout-right-area .checkout-row:nth-child(2)');
					if (sideNavDiscountRow) {
						sideNavDiscountRow.style.display = parseFloat(discount) > 0 ? 'flex' : 'none';
					}
				}
				
				function applyCoupon() {
					const couponCode = document.getElementById('coupon-input').value;
					
					if (!couponCode) {
						alert('Please enter a coupon code.');
						return;
					}
					
					fetch('/apply_coupon/', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/x-www-form-urlencoded',
							'X-CSRFToken': getCookie('csrftoken')
						},
						body: `coupon_code=${encodeURIComponent(couponCode)}`
					})
					.then(response => response.json())
					.then(data => {
						const messageElement = document.getElementById('coupon-message');
						if (data.status === 'success') {
							messageElement.textContent = data.message;
							messageElement.style.color = 'green';
							updatePriceInfo(data.cart_total, data.discount, data.new_total);
							document.querySelector('.remove-coupon-btn').style.display = 'inline-block';
							document.querySelector('.apply-coupon-btn').style.display = 'none';
						} else {
							messageElement.textContent = data.message;
							messageElement.style.color = 'red';
						}
					})
					.catch(error => {
						console.error('Error:', error);
						alert('An error occurred while applying the coupon.');
					});
				}
				
				function removeCoupon() {
					fetch('/remove_coupon/', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/x-www-form-urlencoded',
							'X-CSRFToken': getCookie('csrftoken')
						}
					})
					.then(response => response.json())
					.then(data => {
						if (data.status === 'success') {
							document.getElementById('coupon-message').textContent = data.message;
							document.getElementById('coupon-message').style.color = 'green';
							updatePriceInfo(data.cart_total, 0, data.cart_total);
							document.getElementById('coupon-input').value = '';
							document.querySelector('.remove-coupon-btn').style.display = 'none';
							document.querySelector('.apply-coupon-btn').style.display = 'inline-block';
							document.querySelectorAll('input[name="coupon_code"]').forEach(radio => {
								radio.checked = false;
							});
						} else {
							document.getElementById('coupon-message').textContent = data.message;
							document.getElementById('coupon-message').style.color = 'red';
						}
					})
					.catch(error => {
						console.error('Error:', error);
						alert('An error occurred while removing the coupon.');
					});
				}
			</script>


			<!-- Razorpay Script -->
			<script>
				document.addEventListener('DOMContentLoaded', function() {
					const paymentMethodRadios = document.querySelectorAll('input[name="payment_method"]');
					const placeOrderBtn = document.getElementById('place-order-btn');
					const razorpayPayBtn = document.getElementById('razorpay-pay-btn');
				
					paymentMethodRadios.forEach(radio => {
						radio.addEventListener('change', function() {
							if (this.value === 'RazorPay') {
								placeOrderBtn.style.display = 'none';
								razorpayPayBtn.style.display = 'inline-block';
							} else {
								placeOrderBtn.style.display = 'inline-block';
								razorpayPayBtn.style.display = 'none';
							}
						});
					});
				
					razorpayPayBtn.addEventListener('click', function(e) {
						e.preventDefault();
						
						// Get the selected address
						const selectedAddress = document.querySelector('input[name="selected_address"]:checked');
						if (!selectedAddress) {
							Swal.fire({
								title: 'Error!',
								text: 'Please select a delivery address.',
								icon: 'error',
								confirmButtonText: 'OK'
							});
							return;
						}
				
						// Get the form data
						const form = document.getElementById('checkout-form');
						const formData = new FormData(form);
				
						// Send a POST request to create a Razorpay order
						fetch('{% url "checkout" %}', {
							method: 'POST',
							body: formData,
							headers: {
								'X-CSRFToken': '{{ csrf_token }}'
							}
						})
						.then(response => response.json())
						.then(data => {
							if (data.error) {
								Swal.fire({
									title: 'Error!',
									text: data.error,
									icon: 'error',
									confirmButtonText: 'OK'
								});
								return;
							}
				
							// Configure Razorpay options
							var options = {
								"key": "{{ razorpay_key_id }}",
								"amount": data.amount,
								"currency": "INR",
								"name": "Your Store Name",
								"description": "Order Payment",
								"order_id": data.id,
								"handler": function (response) {
									// On successful payment, verify the payment on the server
									verifyPayment(response, data.order_id );
								},
								"prefill": {
									"name": "{{ user.get_full_name }}",
									"email": "{{ user.email }}",
								},
								"theme": {
									"color": "#F37254"
								}
							};
				
							var rzp1 = new Razorpay(options);
							rzp1.on('payment.failed', function (response){
								alert('Payment failed. Redirecting to order details.');
								window.location.href = '{% url "order_details" order_id=0 %}'.replace('0', data.order_id);
							});
							rzp1.open();
			
						})
						.catch(error => {
							console.error('Error:', error);
							Swal.fire({
								title: 'Error!',
								text: 'An error occurred. Please try again.',
								icon: 'error',
								confirmButtonText: 'OK'
							});
						});
					});
				
					function verifyPayment(response, orderId) {
						fetch('{% url "verify_payment" %}', {
							method: 'POST',
							headers: {
								'Content-Type': 'application/json',
								'X-CSRFToken': '{{ csrf_token }}'
							},
							body: JSON.stringify({
								razorpay_payment_id: response.razorpay_payment_id,
								razorpay_order_id: response.razorpay_order_id,
								razorpay_signature: response.razorpay_signature,
								order_id: orderId
							})
						})
						.then(response => response.json())
						.then(data => {
							if (data.success) {
								window.location.href = data.redirect_url;
							} else {
								Swal.fire({
									title: 'Error!',
									text: 'Payment verification failed. Please contact support.',
									icon: 'error',
									confirmButtonText: 'OK'
								}).then((result) => {
									if (result.isConfirmed) {
										window.location.href = '{% url "order_details" order_id=0 %}'.replace('0', orderId);
									}
								});
							}
						})
						.catch(error => {
							console.error('Error:', error);
							Swal.fire({
								title: 'Error!',
								text: 'An error occurred during payment verification. Please contact support.',
								icon: 'error',
								confirmButtonText: 'OK'
							}).then((result) => {
								if (result.isConfirmed) {
									window.location.href = '{% url "order_details" order_id=0 %}'.replace('0', orderId);
								}
							});
						});
					}
				});
				</script>



			
    </body>

<!-- Mirrored from demo.hasthemes.com/fowler-preview/fowler/checkout.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 20 Jun 2024 10:16:24 GMT -->
</html>